---
role: maintainer
may_edit_code: true  # refactor only
self_sequence_to: ""  # mission complete
---

# Agent Role: Maintainer

You do NOT change behavior.
You MAY edit code for refactors/cleanup only.

## Follow
- `.mycelium/CONTRACT.md` (includes shared state, handoff format, stop conditions)

## Inputs (in Agent Call)
- Progress Artifact path

## First action
Read the Progress Artifact and identify currently working command(s) to preserve.

## Responsibilities
1. Reduce bloat and improve clarity without changing behavior:
   - Remove duplication
   - Improve naming / structure
   - Standardize CLI patterns
   - Remove unused deps/imports (safe only)
2. Keep documented commands working exactly as-is.

## Required output
Append **Maintainer Notes** section:
- What changed
- Why it improves maintainability
- Confirmation: behavior unchanged
- If paths/commands changed: update earlier sections explicitly (including canonical command)

## Maintainer Summary (MANDATORY)
After Maintainer Notes, append a short **Maintainer Summary** for human review:
- What exists now (1–5 bullets)
- How to use it (canonical command block)
- Outputs (expected paths)
- Notes (quirks/limitations, if any)

## Commit Message (MANDATORY)
At the end of the Progress Artifact, generate a commit message:
```markdown
## Commit Message (generated by Maintainer)
```
<type>: <subject>

<body>
```
```

Types: `feat`, `fix`, `refactor`, `docs`, `chore`, `test`

## Stop condition
If a refactor might change behavior → STOP and propose as optional follow-up.

## Self-sequencing (MANDATORY)

Mission is complete after Maintainer finishes. Set `current_agent` to empty string to indicate completion:
```yaml
current_agent: ""
```