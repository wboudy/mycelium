# Progress Artifact Template
# Copy to: .mycelium/missions/<mission-id>/progress.yaml
# 
# This YAML structure is the single source of truth for mission progress.
# All agents read from and write to this file.

# -------------------------------------------------------------------
# CURRENT AGENT (tracks which agent runs next)
# Valid values: scientist | implementer | verifier | maintainer | "" (empty = complete)
# Updated by each agent at the end of their run via self-sequencing
# -------------------------------------------------------------------
current_agent: ""

# -------------------------------------------------------------------
# MISSION CONTEXT (filled by Mission Organizer or Scientist)
# -------------------------------------------------------------------
mission_context:
  # Short name for the development phase (e.g., "Infrastructure", "Feature Development")
  phase: ""
  
  # What this mission aims to accomplish (1-2 sentences)
  objective: ""
  
  # Specific tasks, files, or areas this mission covers
  # Use array format for multiple items
  scope:
    - ""
  
  # Limitations, requirements, or rules that must be followed
  constraints:
    - ""
  
  # What is explicitly out of scope for this mission
  non_goals:
    - ""
  
  # Testing mode - determines testing requirements for this mission
  # Valid values: NONE | SMOKE | FULL
  # NONE: No tests required (exploratory/throwaway missions)
  # SMOKE: Basic sanity tests (features that should work reliably)
  # FULL: Comprehensive tests (production-ready/persistent code)
  test_mode: "NONE"

# -------------------------------------------------------------------
# SCIENTIST PLAN (filled by Scientist agent)
# -------------------------------------------------------------------
scientist_plan:
  # Path to this progress artifact (for reference)
  progress_artifact_path: ""
  
  # Checklist mode determines verification rigor
  # Valid values: None | SMOKE | EXPERIMENT
  checklist_mode: "None"
  
  # Definition of Done - clear PASS/FAIL criteria
  # Each item should be independently verifiable
  definition_of_done:
    - description: ""
      status: "pending"  # pending | done
  
  # Ordered steps to accomplish the mission
  # Each step should have a clear expected outcome
  plan_steps:
    - step: 1
      description: ""
      expected_outcome: ""
  
  # Potential issues or unknowns that could affect the mission
  risks_unknowns:
    - ""
  
  # Conditions that should cause the agent to stop and ask the user
  stop_conditions:
    - ""
  
  # Test plan (filled when test_mode != NONE)
  test_plan:
    # Overall testing strategy/approach
    test_strategy: ""
    # Specific acceptance tests to implement
    acceptance_tests:
      - description: ""
        type: ""  # unit | integration | e2e | manual

# -------------------------------------------------------------------
# IMPLEMENTER LOG (appended by Implementer agent, one entry per iteration)
# -------------------------------------------------------------------
implementer_log:
  - iteration: 1
    # What changed (5 bullets max)
    changes:
      - ""
    # Files created, modified, or deleted
    files_touched:
      - ""
    # Exact commands run
    commands_run:
      - command: ""
        result: ""
    # Paths to any outputs produced
    outputs_produced:
      - ""
    # Remaining issues or TODO items
    issues_todo:
      - ""
    # Tests written (when test_mode != NONE)
    tests_written:
      - ""
    # Tests executed with results
    tests_run:
      - command: ""
        result: ""  # PASS | FAIL | SKIP

# -------------------------------------------------------------------
# VERIFIER REPORT (appended by Verifier agent, one entry per iteration)
# -------------------------------------------------------------------
verifier_report:
  - iteration: 1
    # DoD item checks with PASS/FAIL and evidence
    dod_checks:
      - item: ""
        status: "FAIL"  # PASS | FAIL
        evidence: ""
    # Commands re-run to verify
    commands_rerun:
      - command: ""
        result: ""
    # Required fixes - blockers that must be addressed
    required_fixes:
      - ""
    # Suggestions that are nice-to-have but not blocking
    optional_improvements:
      - ""
    # Test results (when test_mode != NONE)
    test_results:
      - test_name: ""
        status: ""  # PASS | FAIL | SKIP
        output: ""
    # MANDATORY: exactly one of these values
    # "FAIL — rerun Implementer" or "PASS — ready for Maintainer"
    overall_status: ""

# -------------------------------------------------------------------
# MAINTAINER NOTES (filled by Maintainer agent)
# -------------------------------------------------------------------
maintainer_notes:
  # What the maintainer changed
  changes:
    - ""
  # Confirmation that behavior is unchanged
  behavior_unchanged: false
  # If any commands or paths changed, document here
  updated_commands:
    - original: ""
      updated: ""
  updated_paths:
    - original: ""
      updated: ""

# -------------------------------------------------------------------
# MAINTAINER SUMMARY (filled by Maintainer agent)
# -------------------------------------------------------------------
maintainer_summary:
  # What exists now (1-5 bullets)
  what_exists:
    - ""
  # The canonical command to run
  canonical_command: ""
  # Expected output paths
  expected_outputs:
    - ""
  # Any quirks or limitations
  notes:
    - ""

# -------------------------------------------------------------------
# COMMIT MESSAGE (generated by Maintainer agent)
# -------------------------------------------------------------------
commit_message:
  # Type: feat | fix | refactor | docs | chore | test
  type: ""
  subject: ""
  body: |
    
